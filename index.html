<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./css/index.css" />
    <link rel="stylesheet" type="text/css" href="./css/tailwind.css" />
  </head>
  <body>
    <div id="root" class="flex flex-row w-wrpWidth">
      <!-- left menu -->
      <div id="leftMenu" class="w-2/12 px-5 pt-4 border-r">
        <h1 class="py-2 px2 text-l">Bluewalnut - 상품구독</h1>
        <div class="mt-4">
          <ul id="categoryList" class="flex flex-col gap-3 text-m"></ul>
        </div>
      </div>

      <!-- content -->
      <div id="content" class="w-10/12 pr-7 pl-10 pt-6 pb-24">
        <h2 class="text-5xl pb-4 font-bold">BWC API TEST</h2>
        <h3 id="apiCategory" class="text-2xl mb-10">카테고리1</h3>
        <!-- api list -->
        <div id="apis"></div>
      </div>

      <!-- Quick Menu -->
      <div
        id="quickMenu"
        class="fixed top-48 right-20 mt-5 bg-white border border-gray-200 rounded-lg"
      ></div>
    </div>

    <!-- function import -->
    <script src="js/request.js"></script>
    <script src="js/apiItems.js"></script>
    <script src="js/category.js"></script>
    <script src="js/quickMenu.js"></script>

    <!-- function 호출을 통한 Component 생성 -->
    <script>
      /**
       * 카테고리 메뉴 생성
       * 로컬에서만 데이터를 직접 선언
       * 서버에서는 json 데이터를 fetch로 가져와서 함수로 전달
      */
      const categoryItems = [
        { categoryId : "1", categoryName: "카테고리1" },
        { categoryId : "2", categoryName: "카테고리2" },
        { categoryId : "3", categoryName: "카테고리3" },
        { categoryId : "4", categoryName: "카테고리4" },
      ];
      createCategoryList(categoryItems);

      /**
       * API 영역 생성
       * 로컬에서만 데이터를 직접 선언
       * 서버에서는 json 데이터를 fetch로 가져와서 함수로 전달
      */
      const apiItems = [
        {
          apiName: "Call API 1",
          apiCode: "1",
          endpoint: "/v1/test",
          description:"카드 번호 결제 API는 추가 계약 후 사용할 수 있습니다.<br />결제할 카드 번호 및 기타 카드 정보로 결제를 요청합니다.",
          inputItems: [
            {
              title: "param1",
              fieldName: "파라미터1",
              name: "param1",
              type: "String",
              value: "A",
              essential: true,
            },
            {
              title: "param2",
              fieldName: "파라미터2",
              name: "param2",
              type: "String",
              value: "B",
              essential: false,
            },
            {
              title: "param3",
              fieldName: "파라미터3",
              name: "param3",
              type: "String",
              value: "C",
              essential: false,
            },
          ],
        },
        {
          apiName: "Call API 2",
          apiCode: "2",
          endpoint: "/v1/hello",
          description:"카드 번호 결제 API는 추가 계약 후 사용할 수 있습니다.<br />결제할 카드 번호 및 기타 카드 정보로 결제를 요청합니다.",
          inputItems: [
            {
              title: "param1",
              fieldName: "파라미터1",
              name: "param1",
              type: "String",
              value: "A",
              essential: true,
            },
            {
              title: "param2",
              fieldName: "파라미터2",
              name: "param2",
              type: "String",
              value: "B",
              essential: true,
            },
            {
              title: "param3",
              fieldName: "파라미터3",
              name: "param3",
              type: "String",
              value: "C",
              essential: false,
            },
          ],
        },
      ];
      // API 생성
      createApiItems(apiItems);

      // 퀵메뉴 영역 생성
      createQuickMenu(apiItems);
    </script>
  </body>
</html>
